<div class="section-container">
  <div class="header-wrapper">
    <div id="section-header">
      <div class="title">{{ 'Home Panel' | translate }}</div>
    </div>
    <hr />
  </div>

  <app-navigation-panel [panelItems]="homePanelConfig" />

  @if (tournamentLoading || startedTournaments.length > 0) {
    <div class="header-wrapper">
      <div id="section-header">
        <div class="title">
          <span class="circle" [ngStyle]="{ opacity: '0.' + opacity }"></span>
          {{ 'Active Tournaments' | translate }}
        </div>

        <div id="arrows-container">
          <img
            class="arrow left"
            [ngClass]="{ disabled: currentTournamnetIndex === 0 }"
            src="assets/images/arrow.svg"
            alt="Arrow icon"
            (click)="changeTournament(false)"
          />
          <img
            class="arrow"
            [ngClass]="{ disabled: currentTournamnetIndex === startedTournaments.length - 1 }"
            src="assets/images/arrow.svg"
            alt="Arrow icon"
            (click)="changeTournament(true)"
          />
        </div>
      </div>
      <hr />
    </div>

    <div class="tournament-section">
      <div class="mobile-warrning-wrapper">
        <app-mobile-warning />
      </div>
      @if (tournamentLoading) {
        <div class="loader-wrapper">
          <span class="loader"></span>
        </div>
      } @else {
        <section id="tournament">
          <div
            id="tournament-title"
            class="hover-transition"
            [routerLink]="clientRoutes.TOURNAMENT_DETAILS(startedTournaments[currentTournamnetIndex].id)"
          >
            {{ startedTournaments[currentTournamnetIndex].name }}
          </div>
          <div id="game-name">{{ 'Дисциплина' }}: {{ startedTournaments[currentTournamnetIndex].game }}</div>

          <div id="teams-section">
            <div id="team-navigation">
              <div class="section-header">{{ 'Participants' | translate }}</div>
              <div id="teams-container">
                @for (currentTeam of startedTournaments[currentTournamnetIndex].teams; track $index) {
                  <div class="team hover-transition" [routerLink]="[clientRoutes.TEAM_DETAILS(currentTeam.id)]">
                    {{ currentTeam.name }}
                  </div>
                }
              </div>
            </div>

            <div class="wrapper" style="width: 100%;">
              <app-tournament-bracket
                [tournamentId]="startedTournaments[currentTournamnetIndex].id"
                [roundsData]="startedTournaments[currentTournamnetIndex].rounds"
                [canChooseWinner]="false"
              />
            </div>
          </div>
        </section>
      }
    </div>
  }
</div>
