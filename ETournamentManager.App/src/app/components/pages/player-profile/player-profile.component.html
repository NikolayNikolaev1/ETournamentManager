<div id="profile-container">
  <div id="profile-edit-wrapper">
    @if (currentUserProfile !== null && currentUserProfile.roleName !== constants.ADMIN_ROLE) {
      @if (currentUserProfile.roleName === constants.TOURNAMENT_PARTICIPANT_ROLE) {
        <app-e-image-upload [entityId]="currentUserProfile.id" [imgUrl]="userImageUrl" />
      }

      <div id="username-edit-form">
        <app-e-input [value]="currentUserProfile.username" [label]="'User Name'" />
        <button id="username-edit-btn">Change User Name</button>
      </div>
    }
  </div>

  @switch (currentUserProfile?.roleName) {
    @case (constants.TOURNAMENT_PARTICIPANT_ROLE) {
      <div class="section-container">
        <div class="title-wrapper">
          <div class="title">My Teams</div>
          <hr />
        </div>

        <div id="teams-cards-container" class="info-cards-container teams">
          @for (currentTeam of teamsData; track $index) {
            <app-e-info-card
              [cardData]="getTeamInfoCard(currentTeam)"
              (cardClicked)="onCardSelect(currentTeam.id, '/team')"
            >
              <div statsIcons class="stats-info">
                <img src="assets/images/first-place-medal.svg" alt="First Place Medal" />
                <div class="subtitle">
                  {{ currentTeam.tournamentsWon }}
                </div>

                <img src="assets/images/people-icon.svg" alt="People Icon" />
                <div class="subtitle">
                  {{ currentTeam.members.length }}
                </div>
              </div>
            </app-e-info-card>
          }
        </div>
      </div>
    }
    @case (
      [constants.TOURNAMENT_CREATOR_ROLE, constants.ADMIN_ROLE].includes(
        currentUserProfile?.roleName ?? ''
      )
        ? currentUserProfile?.roleName
        : ''
    ) {
      <div class="section-container">
        <div class="title-wrapper">
          <div class="title">My Tournaments</div>
          <hr />
        </div>

        <div class="info-cards-container">
          @for (currentTournament of tournamentsData; track $index) {
            <app-e-info-card
              [cardData]="getTournamentCard(currentTournament)"
              (cardClicked)="onCardSelect(currentTournament.id, '/tournament')"
            >
              <div statsIcons class="stats-info">
                <img src="assets/images/people-icon.svg" alt="People Icon" />
                <div class="subtitle">
                  {{ currentTournament.teams.length }}
                </div>
              </div>
            </app-e-info-card>
          }
        </div>
      </div>
    }
  }
</div>
